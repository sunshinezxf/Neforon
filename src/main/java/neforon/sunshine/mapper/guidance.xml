<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="guidance">
    <resultMap id="guidance" type="neforon.sunshine.guidance.vo.GuidanceItemVo">
        <result property="title" column="guidance_title"/>
        <result property="step" column="step"/>
        <result property="description" column="guidance_detail"/>
    </resultMap>

    <resultMap id="guidanceTitle" type="neforon.sunshine.model.GuidanceTitle">
        <result property="titleId" column="guidance_title_id"/>
        <result property="titlename" column="guidance_title"/>
    </resultMap>

    <resultMap id="modifyGuidance" type="neforon.sunshine.model.GuidanceItem">
        <result property="id" column="id"/>
        <result property="projectId" column="project_id"/>
        <result property="guidanceTitle" column="guidance_title"/>
        <result property="guidanceDetail" column="guidance_detail"/>
        <result property="step" column="step"/>
    </resultMap>

    <!-- 查询用户扫码步骤 -->
    <select id="selectGuidance" resultMap="guidance">
        SELECT guidance_title, step, guidance_detail
        FROM guidance
        WHERE project_id=#{projectId};
    </select>

    <select id="selectGuidanceTitle" resultMap="guidanceTitle">
        SELECT DISTINCT guidance_title_id, guidance_title
        FROM guidance;
    </select>

    <!-- 查询所有的扫码步骤 -->
    <select id="selectGuidances" resultMap="modifyGuidance">
        SELECT id, project_id, guidance_title, guidance_detail, step
        FROM guidance;
    </select>
</mapper>